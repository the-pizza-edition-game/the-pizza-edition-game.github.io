import{_ as Q,q as b,C as H,j as O,c as g,o as r,a as e,n as q,b as c,m as Y,t as m,d as w,v as R,y as pe,T as Z,E as ge,f as ye,i as V,G as ve,u as I,s as W,H as j,I as ke,k as s,x as he,w as L,F as J,r as K,J as be,l as we,K as _e,L as $e,e as Fe}from"./CEuArG_v.js";import{_ as Ee}from"./CqZmQuvg.js";const Ce={class:"bookmark-reminder"},Le={class:"bookmark-content"},xe={class:"bookmark-left"},Re={class:"bookmark-text"},Te={class:"bookmark-right"},Se={class:"bookmark-shortcut"},Pe={class:"shortcut-key"},ze={class:"modal-content"},Be={class:"modal-header"},Ge={class:"modal-icon"},Me={class:"modal-body"},qe={class:"key"},Ne={class:"modal-tip"},Ie={__name:"BookmarkReminder",props:{title:{type:String,default:"Bookmark This Page"},description:{type:String,default:"Save this page to easily find it again later!"},buttonText:{type:String,default:"Bookmark Now"},modalTitle:{type:String,default:"Bookmark This Page"},modalTip:{type:String,default:"ðŸ’¡ This way you can easily find this page again!"},bookmarkUrl:{type:String,default:null},bookmarkTitle:{type:String,default:null}},setup($){const y=$,_=b(!1),B=b(!1);H(()=>{B.value=navigator.userAgent.toLowerCase().indexOf("mac")!==-1});const F=O(()=>B.value?"âŒ˜":"Ctrl"),G=O(()=>B.value?"Cmd":"Ctrl"),T=()=>{_.value=!1};function S(E,o){try{return window.sidebar&&window.sidebar.addPanel?(window.sidebar.addPanel(o,E,""),!0):window.external&&window.external.AddFavorite?(window.external.AddFavorite(E,o),!0):!1}catch{return!1}}const A=()=>{const E=y.bookmarkUrl??window.location.href,o=y.bookmarkTitle??document.title;S(E,o)||(_.value=!0)};return(E,o)=>{const C=Y;return r(),g("div",null,[e("div",Ce,[e("div",Le,[e("div",xe,[c(C,{name:"fa6-solid:bookmark",class:"bookmark-icon"}),e("div",Re,[e("h3",null,m($.title),1),e("p",null,m($.description),1)])]),e("div",Te,[e("div",Se,[e("kbd",Pe,m(F.value),1),o[0]||(o[0]=e("span",{class:"shortcut-plus"},"+",-1)),o[1]||(o[1]=e("kbd",{class:"shortcut-key"},"D",-1))]),e("button",{class:"bookmark-btn",onClick:A},[c(C,{name:"fa6-solid:star"}),w(" "+m($.buttonText),1)])])])]),(r(),q(Z,{to:"body"},[_.value?(r(),g("div",{key:0,class:"modal-overlay",onClick:pe(T,["self"])},[e("div",ze,[e("div",Be,[e("div",Ge,[c(C,{name:"fa6-solid:bookmark"})]),e("h3",null,m($.modalTitle),1),e("button",{class:"modal-close",onClick:T,"aria-label":"Close"},[c(C,{name:"fa6-solid:times"})])]),e("div",Me,[e("p",null,[o[2]||(o[2]=w(" Press ",-1)),e("kbd",qe,m(G.value),1),o[3]||(o[3]=w(" + ",-1)),o[4]||(o[4]=e("kbd",{class:"key"},"D",-1)),o[5]||(o[5]=w(" to bookmark this page ",-1))]),e("p",Ne,m($.modalTip),1)]),e("div",{class:"modal-footer"},[e("button",{class:"modal-btn primary",onClick:T}," Got it! ")])])])):R("",!0)]))])}}},He=Object.assign(Q(Ie,[["__scopeId","data-v-073df4f4"]]),{__name:"BookmarkReminder"}),Oe={class:"game-page"},Ae={key:0,class:"game-layout"},De={class:"main-column"},Ue={class:"game-container-wrapper"},Ve={key:0,class:"ruffle-container",style:{display:"flex","align-items":"center","justify-content":"center",color:"white"}},We=["src"],je={class:"game-bar"},Je={class:"game-bar-left"},Ke={class:"game-title"},Qe={class:"game-rating"},Ye={class:"stars"},Ze={class:"rating-score"},Xe={class:"rating-count"},et={class:"game-bar-right"},tt={key:0,class:"share-popover"},ot={class:"game-content-grid"},nt={class:"game-description-card"},st={class:"desc-header"},at={class:"desc-content"},lt={key:0,class:"game-description"},it={key:1,class:"game-description"},rt={class:"tech-info"},ct={class:"tech-item"},ut={class:"tech-value"},dt={class:"game-tags"},mt={class:"sidebar-column"},ft={class:"sidebar-content"},pt={class:"games-grid"},gt={key:1,class:"not-found"},yt={key:0,class:"toast-notification"},vt={__name:"[slug]",async setup($){let y,_;const F=ge().params.slug,G=ye(),T=G.public.siteUrl||"https://pizagame.com",S=G.public.siteTarget||"production",E=S==="github"?"github io":S==="bitbucket"?"bitbucket io":S==="gitlab"?"gitlab io":"",{data:o}=([y,_]=V(()=>we(`/api/games/${F}`,{key:`game-${F}`},"$1SgbdxQZCY")),y=await y,_(),y),{data:C}=([y,_]=V(()=>_e(`/api/games/similar/${F}`,{key:`similar-${F}`,default:()=>[]},"$CDJEFg0Lvk")),y=await y,_(),y),x=O(()=>o.value?.format==="flash");ce(o),re(o,F,T,E);const{containerRef:X,pseudoFullscreen:ee,toggleFullscreen:D}=ue(),{containerRef:te,reload:oe}=de(o,x),{rating:ne,votes:se,showShare:N,showToast:ae,toastMessage:le,copyLink:U}=me(),ie=()=>{if(x.value)oe();else{const n=document.querySelector("iframe");n&&(n.src=n.src)}};function re(n,t,l,a){ve(()=>{if(!n.value)return;const v=`${n.value.title||"Game"} - Pizza Edition | Play Unblocked Full Screen`,p=a?`${v} ${a}`:v,k=n.value.description,i=`${l}/games/${n.value.slug||t}`,f=n.value.image?`${l}${n.value.image}`:`${l}/media/og-image.webp`,u=n.value.keywords||"",d=a?`${u}, ${a}`:u;I({title:p,meta:[{property:"og:title",content:p},{name:"description",content:k},{property:"og:description",content:k},{property:"og:image",content:f},{property:"og:url",content:i},{property:"og:type",content:"website"},{name:"twitter:title",content:p},{name:"twitter:description",content:k},{name:"twitter:image",content:f},{name:"keywords",content:d}]}),I({link:[{rel:"canonical",href:i}],script:[{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"https://schema.org","@type":"VideoGame",name:n.value.title||"Game",alternateName:`${n.value.title||"Game"} Pizza Edition`,description:k,url:i,image:f,playMode:"SinglePlayer",applicationCategory:"Game",operatingSystem:"Web Browser",gamePlatform:["Web Browser","Desktop","Mobile"],genre:n.value.categories||["Games"],offers:{"@type":"Offer",price:"0",priceCurrency:"USD",availability:"https://schema.org/InStock"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.6",ratingCount:"1000",bestRating:"5",worstRating:"1"},publisher:{"@type":"Organization",name:"PizaGame",alternateName:["Pizza Edition","The Pizza Edition"],url:l}})},{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"PizaGame",item:l},{"@type":"ListItem",position:2,name:"Games",item:`${l}/games`},{"@type":"ListItem",position:3,name:n.value.title||"Game",item:i}]})}]})})}function ce(n){if(n.value?.url)try{const t=new URL(n.value.url).origin;I({link:[{rel:"preconnect",href:t,crossorigin:"anonymous"},{rel:"dns-prefetch",href:t}]})}catch{}}function ue(){const n=b(null),t=b(!1),l="pseudo-fullscreen-lock",a=typeof navigator<"u"&&/iP(ad|hone|od)/i.test(navigator.userAgent||""),v=typeof Element<"u"&&!!(Element.prototype.requestFullscreen||Element.prototype.webkitRequestFullscreen||Element.prototype.mozRequestFullScreen||Element.prototype.msRequestFullscreen),p=()=>document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,k=h=>{if(!h)return;const M=h.requestFullscreen||h.webkitRequestFullscreen||h.mozRequestFullScreen||h.msRequestFullscreen;M&&M.call(h)?.catch(fe=>{console.error(`Error attempting to enable fullscreen: ${fe.message}`)})},i=()=>{const h=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;h&&h.call(document)?.catch(M=>{console.error(`Error attempting to exit fullscreen: ${M.message}`)})},f=()=>document.body.classList.add(l),u=()=>document.body.classList.remove(l),d=()=>{p()||(t.value=!1,u())},P=()=>{document.visibilityState==="visible"&&!t.value&&!p()&&u()},z=()=>{!t.value&&!p()&&u()};return W(t,h=>{typeof document>"u"||(h?f():u())}),H(()=>{typeof document>"u"||(u(),document.addEventListener("fullscreenchange",d),document.addEventListener("webkitfullscreenchange",d),window.addEventListener("pageshow",z),document.addEventListener("visibilitychange",P))}),j(()=>{u(),typeof document<"u"&&(document.removeEventListener("fullscreenchange",d),document.removeEventListener("webkitfullscreenchange",d),window.removeEventListener("pageshow",z),document.removeEventListener("visibilitychange",P))}),{containerRef:n,pseudoFullscreen:t,toggleFullscreen:()=>{if(n.value){if(p()){i();return}if(t.value){t.value=!1,u();return}v&&!a?k(n.value):t.value=!0}}}}function de(n,t){const l=b(null),a=b(!1),v=()=>new Promise((f,u)=>{if(typeof window.RufflePlayer<"u"||typeof window.Ruffle<"u"){f();return}const d=document.createElement("script");d.src="https://unpkg.com/@ruffle-rs/ruffle",d.async=!0,d.onload=()=>{let P=0;const z=()=>{typeof window.RufflePlayer<"u"||typeof window.Ruffle<"u"?f():P<50?(P++,setTimeout(z,100)):u(new Error("Ruffle failed to initialize"))};z()},d.onerror=()=>u(new Error("Failed to load Ruffle script")),document.body.appendChild(d)}),p=()=>typeof window.RufflePlayer<"u"?window.RufflePlayer.newest():typeof window.Ruffle<"u"?window.Ruffle.newest():null,k=async()=>{if(!(!t.value||!l.value||a.value||!n.value||typeof window>"u"))try{await v();const f=p();if(!f)throw new Error("Ruffle failed to initialize");const u=f.createPlayer();u.config={autoplay:"auto",unmuteOverlay:"visible",backgroundColor:"#000000",letterbox:"on",logLevel:"warn",upgradeToHttps:!0,allowScriptAccess:!1,allowNetworking:"all",quality:"high",scale:"showAll",allowFullscreen:!0},l.value.appendChild(u);let d=n.value.url;d.startsWith("http://")&&window.location.protocol==="https:"&&(d=d.replace("http://","https://")),await u.load(d),a.value=!0}catch(f){console.error("Error loading Flash game:",f),l.value&&(l.value.innerHTML=`
          <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: white; flex-direction: column; gap: 1rem;">
            <p>Error loading Flash game</p>
            <p style="font-size: 0.9rem; color: #999;">${f instanceof Error?f.message:"Unknown error"}</p>
          </div>
        `)}},i=()=>{l.value&&(l.value.innerHTML="",a.value=!1,k())};return W(()=>n.value?.slug,()=>{t.value&&i()}),H(()=>{t.value&&ke(()=>k())}),j(()=>{l.value&&(l.value.innerHTML="",a.value=!1)}),{containerRef:l,isLoaded:a,reload:i}}function me(){const n=b(9.2),t=b("464,392"),l=b(!1),a=b(!1),v=b("");return{rating:n,votes:t,showShare:l,showToast:a,toastMessage:v,copyLink:()=>{navigator.clipboard.writeText(window.location.href),l.value=!1,v.value="Link copied to clipboard!",a.value=!0,setTimeout(()=>{a.value=!1},3e3)}}}return(n,t)=>{const l=$e,a=Y,v=He,p=Fe,k=Ee;return r(),g("div",Oe,[s(o)?(r(),g("div",Ae,[e("div",De,[e("div",Ue,[e("div",{ref_key:"gamePlayerContainer",ref:X,class:he(["game-player",{"pseudo-fullscreen":s(ee)}])},[c(l,null,{fallback:L(()=>[s(x)?(r(),g("div",Ve,[...t[3]||(t[3]=[e("p",null,"Loading Flash player...",-1)])])):R("",!0)]),default:L(()=>[s(x)?(r(),g("div",{key:0,ref_key:"ruffleContainer",ref:te,class:"ruffle-container"},null,512)):R("",!0)]),_:1}),s(x)?R("",!0):(r(),g("iframe",{key:0,src:s(o).url,title:"game",loading:"lazy",allowfullscreen:"",scrolling:"no",allow:`
                autoplay;
                fullscreen;
                geolocation;
                microphone;
                camera;
                midi;
              `},null,8,We))],2),e("div",je,[e("div",Je,[e("h1",Ke,m(s(o).title),1),e("div",Qe,[e("div",Ye,[c(a,{name:"fa6-solid:star"}),c(a,{name:"fa6-solid:star"}),c(a,{name:"fa6-solid:star"}),c(a,{name:"fa6-solid:star"}),c(a,{name:"fa6-solid:star-half-alt"})]),e("span",Ze,m(s(ne)),1),e("span",Xe,"("+m(s(se))+" votes)",1)])]),e("div",et,[e("button",{onClick:ie,class:"tool-btn",title:"Reload"},[c(a,{name:"fa6-solid:rotate-right"})]),e("button",{class:"tool-btn",title:"Share",onClick:t[1]||(t[1]=i=>N.value=!s(N))},[c(a,{name:"fa6-solid:share-nodes"}),s(N)?(r(),g("div",tt,[e("button",{onClick:t[0]||(t[0]=(...i)=>s(U)&&s(U)(...i))},"Copy Link")])):R("",!0)]),e("button",{class:"tool-btn highlight",title:"Fullscreen",onClick:t[2]||(t[2]=(...i)=>s(D)&&s(D)(...i))},[c(a,{name:"fa6-solid:expand"})])])])]),c(v,{class:"bookmark-reminder-container",title:`Bookmark ${s(o)?.title}`,description:`Save ${s(o)?.title} to easily play it again later!`,"modal-title":"Bookmark This Game","modal-tip":`ðŸ’¡ This way you can easily find ${s(o)?.title} again!`},null,8,["title","description","modal-tip"]),e("div",ot,[e("div",nt,[e("div",st,[e("h2",null,"About "+m(s(o).title),1)]),e("div",at,[s(o).content?(r(),g("div",lt,[e("p",null,m(s(o).content),1)])):(r(),g("div",it,[e("p",null,[t[4]||(t[4]=w(" Play ",-1)),e("strong",null,m(s(o).title),1),w(" online for free on Pizza Edition. It is a popular "+m(s(o).categories?.[0])+" game that you can play on your browser. ",1)])])),t[9]||(t[9]=e("h3",null,"Features",-1)),t[10]||(t[10]=e("ul",{class:"features-list"},[e("li",null,"Smooth and responsive gameplay"),e("li",null,"Play directly in your browser"),e("li",null,"No installation required"),e("li",null,"Mobile and desktop compatible")],-1)),e("div",rt,[t[7]||(t[7]=e("div",{class:"tech-item"},[e("span",{class:"tech-label"},"Developer"),e("span",{class:"tech-value"},"Pizza Edition")],-1)),e("div",ct,[t[6]||(t[6]=e("span",{class:"tech-label"},"Platform",-1)),e("span",ut,[c(l,null,{fallback:L(()=>[...t[5]||(t[5]=[w(" Web Browser (HTML5) ",-1)])]),default:L(()=>[w(m(s(x)?"Web Browser (Flash via Ruffle)":"Web Browser (HTML5)")+" ",1)]),_:1})])]),t[8]||(t[8]=e("div",{class:"tech-item"},[e("span",{class:"tech-label"},"Last Updated"),e("span",{class:"tech-value"},"October 2024")],-1))])]),e("div",dt,[(r(!0),g(J,null,K(s(o).categories,i=>(r(),q(p,{key:i,to:`/category/${i}`,class:"tag-chip"},{default:L(()=>[w(m(i),1)]),_:2},1032,["to"]))),128))])])])]),e("aside",mt,[e("div",ft,[t[11]||(t[11]=e("h3",{class:"sidebar-header"},"Recommended Games",-1)),e("div",pt,[(r(!0),g(J,null,K(s(C),i=>(r(),q(k,{key:i.slug,game:i,"aspect-ratio":"1"},null,8,["game"]))),128))])])])])):(r(),g("div",gt,[t[13]||(t[13]=e("h2",null,"Game not found",-1)),c(p,{to:"/",class:"btn-primary"},{default:L(()=>[...t[12]||(t[12]=[w("Go Home",-1)])]),_:1})])),(r(),q(Z,{to:"body"},[c(be,{name:"toast",appear:""},{default:L(()=>[s(ae)?(r(),g("div",yt,[c(a,{name:"fa6-solid:check-circle"}),e("span",null,m(s(le)),1)])):R("",!0)]),_:1})]))])}}},wt=Q(vt,[["__scopeId","data-v-9e73a582"]]);export{wt as default};
