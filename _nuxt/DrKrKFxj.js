import{_ as F,i as P,p as B,h as E,f as I,q as z,v as q,j as d,u as R,c as u,a as s,x as f,b as i,w as U,y as A,z as D,k as a,A as Q,B as V,C as j,t as b,d as v,F as M,r as T,l as H,e as Y,m as O,o as l,n as G}from"./BzTpZWxe.js";import{_ as W}from"./BOAuKAhc.js";const Z={class:"search-page"},J={class:"search-hero"},K={class:"hero-content"},X={class:"breadcrumbs"},ee={class:"search-container"},se={key:0,class:"search-stats"},te={class:"hero-decoration"},ae={key:0,class:"section-container"},ne={class:"section-header"},oe={class:"games-grid"},re={key:1,class:"no-results-container"},ie={class:"no-results-content"},le={class:"icon-box"},ce={key:2,class:"section-container recommendations-section"},ue={class:"section-header"},de={class:"games-grid"},me={key:3,class:"empty-state"},ge={__name:"search",async setup(pe){let y,w;const{data:g}=([y,w]=P(()=>H("/api/games","$rNwwtZtOjy")),y=await y,w(),y),C=B(),L=E(),k=I().public.siteUrl||"https://pizagame.com",m=z(""),x=z(!1),p=z([]);q(()=>C.query.q,n=>{const e=Array.isArray(n)?n[0]:n;m.value=e||""},{immediate:!0});const t=d(()=>{const n=C.query.q;return Array.isArray(n)?n[0]||"":typeof n=="string"?n:""}),r=d(()=>{if(!t.value.trim()||!g.value)return[];const n=t.value.toLowerCase().trim();return g.value.filter(e=>{const h=e.title.toLowerCase().includes(n),o=e.content?.toLowerCase().includes(n),_=e.categories?.some(c=>c.toLowerCase().includes(n));return h||o||_})}),N=()=>{m.value.trim()&&(x.value=!0,L.push({path:"/search",query:{q:m.value}}),setTimeout(()=>{x.value=!1},500))};q([t,r],()=>{if(g.value)if(t.value){const n=new Set(r.value.map(o=>o.slug)),h=[...g.value.filter(o=>!n.has(o.slug))].sort(()=>.5-Math.random());p.value=h.slice(0,12)}else{const n=[...g.value].sort(()=>.5-Math.random());p.value=n.slice(0,12)}},{immediate:!0});const S=d(()=>t.value?`Search Results for "${t.value}" - Pizza Edition`:"Search Games - Pizza Edition"),$=d(()=>t.value?`Found ${r.value.length} games matching "${t.value}". Play free online games on Pizza Edition.`:"Search for your favorite games on Pizza Edition. Play free online games instantly.");return R({title:S,meta:[{property:"og:title",content:S},{name:"description",content:$},{property:"og:description",content:$},{property:"og:image",content:`${k}/media/og-image.webp`},{property:"og:url",content:d(()=>`${k}/search${t.value?`?q=${encodeURIComponent(t.value)}`:""}`)},{property:"og:type",content:"website"},{name:"keywords",content:d(()=>t.value?`${t.value} games, search ${t.value}, pizza edition games`:"search games, pizza edition, unblocked games")}]}),R({link:[{rel:"canonical",href:d(()=>`${k}/search${t.value?`?q=${encodeURIComponent(t.value)}`:""}`)}]}),(n,e)=>{const h=Y,o=O,_=W;return l(),u("div",Z,[s("div",J,[s("div",K,[s("div",X,[i(h,{to:"/",class:"breadcrumb-link"},{default:U(()=>[...e[1]||(e[1]=[v("Home",-1)])]),_:1}),e[2]||(e[2]=s("span",{class:"breadcrumb-separator"},"/",-1)),e[3]||(e[3]=s("span",{class:"breadcrumb-current"},"Search",-1))]),e[5]||(e[5]=s("h1",null,[s("span",{class:"text-gradient"},"Find Your Game")],-1)),e[6]||(e[6]=s("p",{class:"description"}," Search through our collection of free online games ",-1)),s("div",ee,[s("form",{onSubmit:D(N,["prevent"]),class:A(["search-form",{"is-focused":a(x)}])},[i(o,{name:"fa6-solid:magnifying-glass",class:"search-icon"}),Q(s("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>j(m)?m.value=c:null),type:"text",placeholder:"Search for games...",class:"search-input",autocomplete:"off"},null,512),[[V,a(m)]]),e[4]||(e[4]=s("button",{type:"submit",class:"search-button"},"Search",-1))],34)]),a(t)?(l(),u("div",se,[s("div",{class:A(["stat-badge",{"has-results":a(r).length>0}])},[i(o,{name:a(r).length>0?"fa6-solid:check-circle":"fa6-solid:info-circle"},null,8,["name"]),s("span",null," Found "+b(a(r).length)+' results for "'+b(a(t))+'" ',1)],2)])):f("",!0)]),s("div",te,[e[7]||(e[7]=s("div",{class:"circle circle-1"},null,-1)),e[8]||(e[8]=s("div",{class:"circle circle-2"},null,-1)),i(o,{name:"fa6-solid:gamepad",class:"floating-icon icon-1"}),i(o,{name:"fa6-solid:ghost",class:"floating-icon icon-2"}),i(o,{name:"fa6-solid:puzzle-piece",class:"floating-icon icon-3"})])]),a(t)&&a(r).length>0?(l(),u("div",ae,[s("div",ne,[s("h2",null,[i(o,{name:"fa6-solid:list"}),e[9]||(e[9]=v(" Search Results",-1))])]),s("div",oe,[(l(!0),u(M,null,T(a(r),c=>(l(),G(_,{key:c.slug,game:c},null,8,["game"]))),128))])])):f("",!0),a(t)&&a(r).length===0?(l(),u("div",re,[s("div",ie,[s("div",le,[i(o,{name:"fa6-solid:magnifying-glass-minus"})]),e[12]||(e[12]=s("h2",null,"No matches found",-1)),s("p",null,[e[10]||(e[10]=v(` We couldn't find any games matching "`,-1)),s("strong",null,b(a(t)),1),e[11]||(e[11]=v('" ',-1))]),e[13]||(e[13]=s("p",{class:"sub-text"}," Try checking your spelling or use different keywords ",-1))])])):f("",!0),a(p).length>0?(l(),u("div",ce,[s("div",ue,[s("h2",null,[i(o,{name:"fa6-solid:star"}),v(" "+b(a(t)&&a(r).length===0?"Try These Instead":"You Might Also Like"),1)])]),s("div",de,[(l(!0),u(M,null,T(a(p),c=>(l(),G(_,{key:c.slug,game:c},null,8,["game"]))),128))])])):f("",!0),!a(t)&&a(p).length===0?(l(),u("div",me,[i(o,{name:"fa6-solid:gamepad"}),e[14]||(e[14]=s("h2",null,"Discover Amazing Games",-1)),e[15]||(e[15]=s("p",null,"Type in the search box above to get started",-1))])):f("",!0)])}}},ye=F(ge,[["__scopeId","data-v-7851169c"]]);export{ye as default};
