import{G as f,q as u,D as _,H as d,c as i,o as r,a as s,k as l,b as c,m as p,t as v,w,d as y,e as g,_ as h}from"./BzTpZWxe.js";const k={class:"confirm-container"},x={class:"confirm-card"},C={key:0,class:"processing"},P={key:1,class:"error"},b={key:2,class:"success"},A=f({__name:"confirm",setup(N){const t=u(!0),a=u(null);return _(async()=>{try{const{data:n}=await d.getSession({query:{disableCookieCache:!0}});if(n)t.value=!1,await new Promise(e=>setTimeout(e,1e3)),window.location.href="/";else{await new Promise(o=>setTimeout(o,2e3));const{data:e}=await d.getSession({query:{disableCookieCache:!0}});e?(t.value=!1,await new Promise(o=>setTimeout(o,1e3)),window.location.href="/"):(t.value=!1,a.value="Authentication failed. Please try again.")}}catch(n){console.error("Auth confirmation error:",n),t.value=!1,a.value=n?.message||"Authentication failed. Please try again."}}),(n,e)=>{const o=p,m=g;return r(),i("div",k,[s("div",x,[l(t)?(r(),i("div",C,[...e[0]||(e[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"Processing authentication...",-1)])])):l(a)?(r(),i("div",P,[c(o,{name:"fa6-solid:circle-xmark",class:"error-icon"}),e[2]||(e[2]=s("h2",null,"Authentication Failed",-1)),s("p",null,v(l(a)),1),c(m,{to:"/",class:"home-btn"},{default:w(()=>[...e[1]||(e[1]=[y("Go to Home",-1)])]),_:1})])):(r(),i("div",b,[c(o,{name:"fa6-solid:circle-check",class:"success-icon"}),e[3]||(e[3]=s("h2",null,"Welcome!",-1)),e[4]||(e[4]=s("p",null,"You have been signed in successfully.",-1)),e[5]||(e[5]=s("p",{class:"redirect-text"},"Redirecting...",-1))]))])])}}}),T=h(A,[["__scopeId","data-v-f8db1301"]]);export{T as default};
