import{_ as P,m as B,x as E,l as I,f as U,r as x,y as q,n as d,u as M,c as u,a as s,j as f,b as i,w as D,z as R,k as Q,q as a,A as V,B as j,C as H,t as b,d as v,F as A,p as L,s as Y,e as O,h as W,o as l,i as T}from"./CT4rAdE5.js";import{_ as Z}from"./DYQeTYdK.js";const J={class:"search-page"},K={class:"search-hero"},X={class:"hero-content"},ee={class:"breadcrumbs"},se={class:"search-container"},te={key:0,class:"search-stats"},ae={class:"hero-decoration"},oe={key:0,class:"section-container"},ne={class:"section-header"},re={class:"games-grid"},ie={key:1,class:"no-results-container"},le={class:"no-results-content"},ce={class:"icon-box"},ue={key:2,class:"section-container recommendations-section"},de={class:"section-header"},me={class:"games-grid"},ge={key:3,class:"empty-state"},pe={__name:"search",async setup(he){let y,z;const{data:g}=([y,z]=B(()=>Y("/api/games","$rNwwtZtOjy")),y=await y,z(),y),C=E(),G=I(),k=U().public.siteUrl||"https://pizagame.com",m=x(""),w=x(!1),p=x([]);q(()=>C.query.q,o=>{const e=Array.isArray(o)?o[0]:o;m.value=e||""},{immediate:!0});const t=d(()=>{const o=C.query.q;return Array.isArray(o)?o[0]||"":typeof o=="string"?o:""}),r=d(()=>{if(!t.value.trim()||!g.value)return[];const o=t.value.toLowerCase().trim();return g.value.filter(e=>{const h=e.title.toLowerCase().includes(o),n=e.slug.toLowerCase().includes(o),_=e.keywords?.toLowerCase().includes(o),c=e.categories?.some(F=>F.toLowerCase().includes(o));return h||n||_||c})}),N=()=>{m.value.trim()&&(w.value=!0,G.push({path:"/search",query:{q:m.value}}),setTimeout(()=>{w.value=!1},500))};q([t,r],()=>{if(g.value)if(t.value){const o=new Set(r.value.map(n=>n.slug)),h=[...g.value.filter(n=>!o.has(n.slug))].sort(()=>.5-Math.random());p.value=h.slice(0,12)}else{const o=[...g.value].sort(()=>.5-Math.random());p.value=o.slice(0,12)}},{immediate:!0});const S=d(()=>t.value?`Search Results for "${t.value}" - Pizza Edition`:"Search Games - Pizza Edition"),$=d(()=>t.value?`Found ${r.value.length} games matching "${t.value}". Play free online games on Pizza Edition.`:"Search for your favorite games on Pizza Edition. Play free online games instantly.");return M({title:S,meta:[{property:"og:title",content:S},{name:"description",content:$},{property:"og:description",content:$},{property:"og:image",content:`${k}/media/og-image.webp`},{property:"og:url",content:d(()=>`${k}/search${t.value?`?q=${encodeURIComponent(t.value)}`:""}`)},{property:"og:type",content:"website"},{name:"keywords",content:d(()=>t.value?`${t.value} games, search ${t.value}, pizza edition games`:"search games, pizza edition, unblocked games")}]}),M({link:[{rel:"canonical",href:d(()=>`${k}/search${t.value?`?q=${encodeURIComponent(t.value)}`:""}`)}]}),(o,e)=>{const h=O,n=W,_=Z;return l(),u("div",J,[s("div",K,[s("div",X,[s("div",ee,[i(h,{to:"/",class:"breadcrumb-link"},{default:D(()=>[...e[1]||(e[1]=[v("Home",-1)])]),_:1}),e[2]||(e[2]=s("span",{class:"breadcrumb-separator"},"/",-1)),e[3]||(e[3]=s("span",{class:"breadcrumb-current"},"Search",-1))]),e[5]||(e[5]=s("h1",null,[s("span",{class:"text-gradient"},"Find Your Game")],-1)),e[6]||(e[6]=s("p",{class:"description"}," Search through our collection of free online games ",-1)),s("div",se,[s("form",{onSubmit:Q(N,["prevent"]),class:R(["search-form",{"is-focused":a(w)}])},[i(n,{name:"fa6-solid:magnifying-glass",class:"search-icon"}),V(s("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>H(m)?m.value=c:null),type:"text",placeholder:"Search for games...",class:"search-input",autocomplete:"off"},null,512),[[j,a(m)]]),e[4]||(e[4]=s("button",{type:"submit",class:"search-button"},"Search",-1))],34)]),a(t)?(l(),u("div",te,[s("div",{class:R(["stat-badge",{"has-results":a(r).length>0}])},[i(n,{name:a(r).length>0?"fa6-solid:check-circle":"fa6-solid:info-circle"},null,8,["name"]),s("span",null," Found "+b(a(r).length)+' results for "'+b(a(t))+'" ',1)],2)])):f("",!0)]),s("div",ae,[e[7]||(e[7]=s("div",{class:"circle circle-1"},null,-1)),e[8]||(e[8]=s("div",{class:"circle circle-2"},null,-1)),i(n,{name:"fa6-solid:gamepad",class:"floating-icon icon-1"}),i(n,{name:"fa6-solid:ghost",class:"floating-icon icon-2"}),i(n,{name:"fa6-solid:puzzle-piece",class:"floating-icon icon-3"})])]),a(t)&&a(r).length>0?(l(),u("div",oe,[s("div",ne,[s("h2",null,[i(n,{name:"fa6-solid:list"}),e[9]||(e[9]=v(" Search Results",-1))])]),s("div",re,[(l(!0),u(A,null,L(a(r),c=>(l(),T(_,{key:c.slug,game:c},null,8,["game"]))),128))])])):f("",!0),a(t)&&a(r).length===0?(l(),u("div",ie,[s("div",le,[s("div",ce,[i(n,{name:"fa6-solid:magnifying-glass-minus"})]),e[12]||(e[12]=s("h2",null,"No matches found",-1)),s("p",null,[e[10]||(e[10]=v(` We couldn't find any games matching "`,-1)),s("strong",null,b(a(t)),1),e[11]||(e[11]=v('" ',-1))]),e[13]||(e[13]=s("p",{class:"sub-text"}," Try checking your spelling or use different keywords ",-1))])])):f("",!0),a(p).length>0?(l(),u("div",ue,[s("div",de,[s("h2",null,[i(n,{name:"fa6-solid:star"}),v(" "+b(a(t)&&a(r).length===0?"Try These Instead":"You Might Also Like"),1)])]),s("div",me,[(l(!0),u(A,null,L(a(p),c=>(l(),T(_,{key:c.slug,game:c},null,8,["game"]))),128))])])):f("",!0),!a(t)&&a(p).length===0?(l(),u("div",ge,[i(n,{name:"fa6-solid:gamepad"}),e[14]||(e[14]=s("h2",null,"Discover Amazing Games",-1)),e[15]||(e[15]=s("p",null,"Type in the search box above to get started",-1))])):f("",!0)])}}},_e=P(pe,[["__scopeId","data-v-d594962d"]]);export{_e as default};
