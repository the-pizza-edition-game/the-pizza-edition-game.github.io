import{_ as K,q as w,C as I,j as H,c as g,o as r,a as e,n as G,b as c,m as Q,t as d,d as F,v as R,y as ue,T as Y,E as me,f as fe,i as U,G as pe,u as N,s as V,H as W,I as ge,k as n,x as ye,w as $,F as j,r as J,J as ve,l as he,K as ke,L as _e,e as we}from"./BgJpD3NI.js";import{_ as be}from"./CWYQQT6L.js";const Fe={class:"bookmark-reminder"},Ce={class:"bookmark-content"},Ee={class:"bookmark-left"},Le={class:"bookmark-text"},xe={class:"bookmark-right"},$e={class:"bookmark-shortcut"},Re={class:"shortcut-key"},Se={class:"modal-content"},Te={class:"modal-header"},Pe={class:"modal-icon"},ze={class:"modal-body"},Be={class:"key"},Ge={class:"modal-tip"},Me={__name:"BookmarkReminder",props:{title:{type:String,default:"Bookmark This Page"},description:{type:String,default:"Save this page to easily find it again later!"},buttonText:{type:String,default:"Bookmark Now"},modalTitle:{type:String,default:"Bookmark This Page"},modalTip:{type:String,default:"ðŸ’¡ This way you can easily find this page again!"},bookmarkUrl:{type:String,default:null},bookmarkTitle:{type:String,default:null}},setup(E){const h=E,C=w(!1),z=w(!1);I(()=>{z.value=navigator.userAgent.toLowerCase().indexOf("mac")!==-1});const L=H(()=>z.value?"âŒ˜":"Ctrl"),O=H(()=>z.value?"Cmd":"Ctrl"),S=()=>{C.value=!1};function i(v,l){try{return window.sidebar&&window.sidebar.addPanel?(window.sidebar.addPanel(l,v,""),!0):window.external&&window.external.AddFavorite?(window.external.AddFavorite(v,l),!0):!1}catch{return!1}}const M=()=>{const v=h.bookmarkUrl??window.location.href,l=h.bookmarkTitle??document.title;i(v,l)||(C.value=!0)};return(v,l)=>{const x=Q;return r(),g("div",null,[e("div",Fe,[e("div",Ce,[e("div",Ee,[c(x,{name:"fa6-solid:bookmark",class:"bookmark-icon"}),e("div",Le,[e("h3",null,d(E.title),1),e("p",null,d(E.description),1)])]),e("div",xe,[e("div",$e,[e("kbd",Re,d(L.value),1),l[0]||(l[0]=e("span",{class:"shortcut-plus"},"+",-1)),l[1]||(l[1]=e("kbd",{class:"shortcut-key"},"D",-1))]),e("button",{class:"bookmark-btn",onClick:M},[c(x,{name:"fa6-solid:star"}),F(" "+d(E.buttonText),1)])])])]),(r(),G(Y,{to:"body"},[C.value?(r(),g("div",{key:0,class:"modal-overlay",onClick:ue(S,["self"])},[e("div",Se,[e("div",Te,[e("div",Pe,[c(x,{name:"fa6-solid:bookmark"})]),e("h3",null,d(E.modalTitle),1),e("button",{class:"modal-close",onClick:S,"aria-label":"Close"},[c(x,{name:"fa6-solid:times"})])]),e("div",ze,[e("p",null,[l[2]||(l[2]=F(" Press ",-1)),e("kbd",Be,d(O.value),1),l[3]||(l[3]=F(" + ",-1)),l[4]||(l[4]=e("kbd",{class:"key"},"D",-1)),l[5]||(l[5]=F(" to bookmark this page ",-1))]),e("p",Ge,d(E.modalTip),1)]),e("div",{class:"modal-footer"},[e("button",{class:"modal-btn primary",onClick:S}," Got it! ")])])])):R("",!0)]))])}}},qe=Object.assign(K(Me,[["__scopeId","data-v-073df4f4"]]),{__name:"BookmarkReminder"}),Ne={class:"game-page"},Ie={key:0,class:"game-layout"},He={class:"main-column"},Oe={class:"game-container-wrapper"},Ae={key:0,class:"ruffle-container",style:{display:"flex","align-items":"center","justify-content":"center",color:"white"}},De=["src"],Ue={class:"game-bar"},Ve={class:"game-bar-left"},We={class:"game-title"},je={class:"game-rating"},Je={class:"stars"},Ke={class:"rating-score"},Qe={class:"rating-count"},Ye={class:"game-bar-right"},Ze={key:0,class:"share-popover"},Xe={class:"game-content-grid"},et={class:"game-description-card"},tt={class:"desc-header"},ot={class:"desc-content"},nt={key:0,class:"game-description"},st={key:1,class:"game-description"},at={class:"tech-info"},lt={class:"tech-item"},it={class:"tech-value"},rt={class:"game-tags"},ct={class:"sidebar-column"},dt={class:"sidebar-content"},ut={class:"games-grid"},mt={key:1,class:"not-found"},ft={key:0,class:"toast-notification"},pt={__name:"[slug]",async setup(E){let h,C;const L=me().params.slug,S=fe().public.siteUrl||"https://pizagame.com",{data:i}=([h,C]=U(()=>he(`/api/games/${L}`,{key:`game-${L}`},"$1SgbdxQZCY")),h=await h,C(),h),{data:M}=([h,C]=U(()=>ke(`/api/games/similar/${L}`,{key:`similar-${L}`,default:()=>[]},"$CDJEFg0Lvk")),h=await h,C(),h),v=H(()=>i.value?.format==="flash");le(i),ae(i,L,S);const{containerRef:l,pseudoFullscreen:x,toggleFullscreen:A}=ie(),{containerRef:Z,reload:X}=re(i,v),{rating:ee,votes:te,showShare:q,showToast:oe,toastMessage:ne,copyLink:D}=ce(),se=()=>{if(v.value)X();else{const o=document.querySelector("iframe");o&&(o.src=o.src)}};function ae(o,t,s){pe(()=>{if(!o.value)return;const a=`${o.value.title||"Game"} - Pizza Edition | Play Unblocked Full Screen`,y=o.value.description,m=`${s}/games/${o.value.slug||t}`,b=o.value.image?`${s}${o.value.image}`:`${s}/media/og-image.webp`;N({title:a,meta:[{property:"og:title",content:a},{name:"description",content:y},{property:"og:description",content:y},{property:"og:image",content:b},{property:"og:url",content:m},{property:"og:type",content:"website"},{name:"twitter:title",content:a},{name:"twitter:description",content:y},{name:"twitter:image",content:b},{name:"keywords",content:o.value.keywords}]}),N({link:[{rel:"canonical",href:m}],script:[{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"https://schema.org","@type":"VideoGame",name:o.value.title||"Game",alternateName:`${o.value.title||"Game"} Pizza Edition`,description:y,url:m,image:b,playMode:"SinglePlayer",applicationCategory:"Game",operatingSystem:"Web Browser",gamePlatform:["Web Browser","Desktop","Mobile"],genre:o.value.categories||["Games"],offers:{"@type":"Offer",price:"0",priceCurrency:"USD",availability:"https://schema.org/InStock"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.6",ratingCount:"1000",bestRating:"5",worstRating:"1"},publisher:{"@type":"Organization",name:"PizaGame",alternateName:["Pizza Edition","The Pizza Edition"],url:s}})},{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"PizaGame",item:s},{"@type":"ListItem",position:2,name:"Games",item:`${s}/games`},{"@type":"ListItem",position:3,name:o.value.title||"Game",item:m}]})}]})})}function le(o){if(o.value?.url)try{const t=new URL(o.value.url).origin;N({link:[{rel:"preconnect",href:t,crossorigin:"anonymous"},{rel:"dns-prefetch",href:t}]})}catch{}}function ie(){const o=w(null),t=w(!1),s="pseudo-fullscreen-lock",a=typeof navigator<"u"&&/iP(ad|hone|od)/i.test(navigator.userAgent||""),y=typeof Element<"u"&&!!(Element.prototype.requestFullscreen||Element.prototype.webkitRequestFullscreen||Element.prototype.mozRequestFullScreen||Element.prototype.msRequestFullscreen),m=()=>document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,b=_=>{if(!_)return;const B=_.requestFullscreen||_.webkitRequestFullscreen||_.mozRequestFullScreen||_.msRequestFullscreen;B&&B.call(_)?.catch(de=>{console.error(`Error attempting to enable fullscreen: ${de.message}`)})},u=()=>{const _=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;_&&_.call(document)?.catch(B=>{console.error(`Error attempting to exit fullscreen: ${B.message}`)})},k=()=>document.body.classList.add(s),p=()=>document.body.classList.remove(s),f=()=>{m()||(t.value=!1,p())},T=()=>{document.visibilityState==="visible"&&!t.value&&!m()&&p()},P=()=>{!t.value&&!m()&&p()};return V(t,_=>{typeof document>"u"||(_?k():p())}),I(()=>{typeof document>"u"||(p(),document.addEventListener("fullscreenchange",f),document.addEventListener("webkitfullscreenchange",f),window.addEventListener("pageshow",P),document.addEventListener("visibilitychange",T))}),W(()=>{p(),typeof document<"u"&&(document.removeEventListener("fullscreenchange",f),document.removeEventListener("webkitfullscreenchange",f),window.removeEventListener("pageshow",P),document.removeEventListener("visibilitychange",T))}),{containerRef:o,pseudoFullscreen:t,toggleFullscreen:()=>{if(o.value){if(m()){u();return}if(t.value){t.value=!1,p();return}y&&!a?b(o.value):t.value=!0}}}}function re(o,t){const s=w(null),a=w(!1),y=()=>new Promise((k,p)=>{if(typeof window.RufflePlayer<"u"||typeof window.Ruffle<"u"){k();return}const f=document.createElement("script");f.src="https://unpkg.com/@ruffle-rs/ruffle",f.async=!0,f.onload=()=>{let T=0;const P=()=>{typeof window.RufflePlayer<"u"||typeof window.Ruffle<"u"?k():T<50?(T++,setTimeout(P,100)):p(new Error("Ruffle failed to initialize"))};P()},f.onerror=()=>p(new Error("Failed to load Ruffle script")),document.body.appendChild(f)}),m=()=>typeof window.RufflePlayer<"u"?window.RufflePlayer.newest():typeof window.Ruffle<"u"?window.Ruffle.newest():null,b=async()=>{if(!(!t.value||!s.value||a.value||!o.value||typeof window>"u"))try{await y();const k=m();if(!k)throw new Error("Ruffle failed to initialize");const p=k.createPlayer();p.config={autoplay:"auto",unmuteOverlay:"visible",backgroundColor:"#000000",letterbox:"on",logLevel:"warn",upgradeToHttps:!0,allowScriptAccess:!1,allowNetworking:"all",quality:"high",scale:"showAll",allowFullscreen:!0},s.value.appendChild(p);let f=o.value.url;f.startsWith("http://")&&window.location.protocol==="https:"&&(f=f.replace("http://","https://")),await p.load(f),a.value=!0}catch(k){console.error("Error loading Flash game:",k),s.value&&(s.value.innerHTML=`
          <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: white; flex-direction: column; gap: 1rem;">
            <p>Error loading Flash game</p>
            <p style="font-size: 0.9rem; color: #999;">${k instanceof Error?k.message:"Unknown error"}</p>
          </div>
        `)}},u=()=>{s.value&&(s.value.innerHTML="",a.value=!1,b())};return V(()=>o.value?.slug,()=>{t.value&&u()}),I(()=>{t.value&&ge(()=>b())}),W(()=>{s.value&&(s.value.innerHTML="",a.value=!1)}),{containerRef:s,isLoaded:a,reload:u}}function ce(){const o=w(9.2),t=w("464,392"),s=w(!1),a=w(!1),y=w("");return{rating:o,votes:t,showShare:s,showToast:a,toastMessage:y,copyLink:()=>{navigator.clipboard.writeText(window.location.href),s.value=!1,y.value="Link copied to clipboard!",a.value=!0,setTimeout(()=>{a.value=!1},3e3)}}}return(o,t)=>{const s=_e,a=Q,y=qe,m=we,b=be;return r(),g("div",Ne,[n(i)?(r(),g("div",Ie,[e("div",He,[e("div",Oe,[e("div",{ref_key:"gamePlayerContainer",ref:l,class:ye(["game-player",{"pseudo-fullscreen":n(x)}])},[c(s,null,{fallback:$(()=>[n(v)?(r(),g("div",Ae,[...t[3]||(t[3]=[e("p",null,"Loading Flash player...",-1)])])):R("",!0)]),default:$(()=>[n(v)?(r(),g("div",{key:0,ref_key:"ruffleContainer",ref:Z,class:"ruffle-container"},null,512)):R("",!0)]),_:1}),n(v)?R("",!0):(r(),g("iframe",{key:0,src:n(i).url,title:"game",loading:"lazy",allowfullscreen:"",scrolling:"no",allow:`
                autoplay;
                fullscreen;
                geolocation;
                microphone;
                camera;
                midi;
              `},null,8,De))],2),e("div",Ue,[e("div",Ve,[e("h1",We,d(n(i).title),1),e("div",je,[e("div",Je,[c(a,{name:"fa6-solid:star"}),c(a,{name:"fa6-solid:star"}),c(a,{name:"fa6-solid:star"}),c(a,{name:"fa6-solid:star"}),c(a,{name:"fa6-solid:star-half-alt"})]),e("span",Ke,d(n(ee)),1),e("span",Qe,"("+d(n(te))+" votes)",1)])]),e("div",Ye,[e("button",{onClick:se,class:"tool-btn",title:"Reload"},[c(a,{name:"fa6-solid:rotate-right"})]),e("button",{class:"tool-btn",title:"Share",onClick:t[1]||(t[1]=u=>q.value=!n(q))},[c(a,{name:"fa6-solid:share-nodes"}),n(q)?(r(),g("div",Ze,[e("button",{onClick:t[0]||(t[0]=(...u)=>n(D)&&n(D)(...u))},"Copy Link")])):R("",!0)]),e("button",{class:"tool-btn highlight",title:"Fullscreen",onClick:t[2]||(t[2]=(...u)=>n(A)&&n(A)(...u))},[c(a,{name:"fa6-solid:expand"})])])])]),c(y,{class:"bookmark-reminder-container",title:`Bookmark ${n(i)?.title}`,description:`Save ${n(i)?.title} to easily play it again later!`,"modal-title":"Bookmark This Game","modal-tip":`ðŸ’¡ This way you can easily find ${n(i)?.title} again!`},null,8,["title","description","modal-tip"]),e("div",Xe,[e("div",et,[e("div",tt,[e("h2",null,"About "+d(n(i).title),1)]),e("div",ot,[n(i).content?(r(),g("div",nt,[e("p",null,d(n(i).content),1)])):(r(),g("div",st,[e("p",null,[t[4]||(t[4]=F(" Play ",-1)),e("strong",null,d(n(i).title),1),F(" online for free on Pizza Edition. It is a popular "+d(n(i).categories?.[0])+" game that you can play on your browser. ",1)])])),t[9]||(t[9]=e("h3",null,"Features",-1)),t[10]||(t[10]=e("ul",{class:"features-list"},[e("li",null,"Smooth and responsive gameplay"),e("li",null,"Play directly in your browser"),e("li",null,"No installation required"),e("li",null,"Mobile and desktop compatible")],-1)),e("div",at,[t[7]||(t[7]=e("div",{class:"tech-item"},[e("span",{class:"tech-label"},"Developer"),e("span",{class:"tech-value"},"Pizza Edition")],-1)),e("div",lt,[t[6]||(t[6]=e("span",{class:"tech-label"},"Platform",-1)),e("span",it,[c(s,null,{fallback:$(()=>[...t[5]||(t[5]=[F(" Web Browser (HTML5) ",-1)])]),default:$(()=>[F(d(n(v)?"Web Browser (Flash via Ruffle)":"Web Browser (HTML5)")+" ",1)]),_:1})])]),t[8]||(t[8]=e("div",{class:"tech-item"},[e("span",{class:"tech-label"},"Last Updated"),e("span",{class:"tech-value"},"October 2024")],-1))])]),e("div",rt,[(r(!0),g(j,null,J(n(i).categories,u=>(r(),G(m,{key:u,to:`/category/${u}`,class:"tag-chip"},{default:$(()=>[F(d(u),1)]),_:2},1032,["to"]))),128))])])])]),e("aside",ct,[e("div",dt,[t[11]||(t[11]=e("h3",{class:"sidebar-header"},"Recommended Games",-1)),e("div",ut,[(r(!0),g(j,null,J(n(M),u=>(r(),G(b,{key:u.slug,game:u,"aspect-ratio":"1"},null,8,["game"]))),128))])])])])):(r(),g("div",mt,[t[13]||(t[13]=e("h2",null,"Game not found",-1)),c(m,{to:"/",class:"btn-primary"},{default:$(()=>[...t[12]||(t[12]=[F("Go Home",-1)])]),_:1})])),(r(),G(Y,{to:"body"},[c(ve,{name:"toast",appear:""},{default:$(()=>[n(oe)?(r(),g("div",ft,[c(a,{name:"fa6-solid:check-circle"}),e("span",null,d(n(ne)),1)])):R("",!0)]),_:1})]))])}}},ht=K(pt,[["__scopeId","data-v-e3333035"]]);export{ht as default};
